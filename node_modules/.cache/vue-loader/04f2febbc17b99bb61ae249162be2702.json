{"remainingRequest":"/Users/ifeomanwokike/Desktop/event-booking-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ifeomanwokike/Desktop/event-booking-app/src/components/modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ifeomanwokike/Desktop/event-booking-app/src/components/modal.vue","mtime":1603186244370},{"path":"/Users/ifeomanwokike/Desktop/event-booking-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ifeomanwokike/Desktop/event-booking-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ifeomanwokike/Desktop/event-booking-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ifeomanwokike/Desktop/event-booking-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibW9kYWwiLAogIHByb3BzOiBbImV2ZW50Il0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1YW50aXR5OiAwLAogICAgICAvLyBlbWFpbDogIiIsCiAgICAgIHByaWNlOiAiIiwKICAgICAgQVBJX3B1YmxpY0tleTogIkZMV1BVQktfVEVTVC0xMWE4ZDBhYTE5ZGZiZTkzZTk5MzUyMzA5OTdlNTdhZC1YIiwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgIH0sCiAgICBwYXkoKSB7CiAgICAgIHZhciB4ID0gd2luZG93LmdldHBhaWRTZXR1cCh7CiAgICAgICAgUEJGUHViS2V5OiB0aGlzLkFQSV9wdWJsaWNLZXksCiAgICAgICAgdHhyZWY6ICJyYXZlLTEyMzQ1NiIsCiAgICAgICAgY3VzdG9tZXJfZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgYW1vdW50OiB0aGlzLnByaWNlLAogICAgICAgIGN1c3RvbWVyX3Bob25lOiAiMjM0MDk5OTQwNDA5IiwKICAgICAgICBjdXJyZW5jeTogIk5HTiIsCgogICAgICAgIG1ldGE6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbWV0YW5hbWU6ICJmbGlnaHRJRCIsCiAgICAgICAgICAgIG1ldGF2YWx1ZTogIkFQMTIzNCIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgb25jbG9zZTogZnVuY3Rpb24oKSB7fSwKICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIC8vICAgdmFyIHR4X3JlZiA9IHJlc3BvbnNlLmRhdGEudHhSZWY7IC8vIGNvbGxlY3QgdHhSZWYgcmV0dXJuZWQgYW5kIHBhc3MgdG8gYSAgICAgICAgICAgICAgICAgICAgc2VydmVyIHBhZ2UgdG8gY29tcGxldGUgc3RhdHVzIGNoZWNrLgogICAgICAgICAgY29uc29sZS5sb2coIlRoaXMgaXMgdGhlIHJlc3BvbnNlIHJldHVybmVkIGFmdGVyIGEgY2hhcmdlIiwgcmVzcG9uc2UpOwogICAgICAgICAgaWYgKAogICAgICAgICAgICByZXNwb25zZS5kYXRhLmNoYXJnZVJlc3BvbnNlQ29kZSA9PSAiMDAiIHx8CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuY2hhcmdlUmVzcG9uc2VDb2RlID09ICIwIgogICAgICAgICAgKSB7CiAgICAgICAgICAgIC8vIHJlZGlyZWN0IHRvIGEgc3VjY2VzcyBwYWdlCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCJtYWluQ29udGVudCIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gcmVkaXJlY3QgdG8gYSBmYWlsdXJlIHBhZ2UuCiAgICAgICAgICB9CgogICAgICAgICAgeC5jbG9zZSgpOyAvLyB1c2UgdGhpcyB0byBjbG9zZSB0aGUgbW9kYWwgaW1tZWRpYXRlbHkgYWZ0ZXIgcGF5bWVudC4KICAgICAgICB9LAogICAgICB9KTsKICAgIH0sCiAgICB0b3RhbFByaWNlKCkgewogICAgICBjb25zb2xlLmxvZygiRXZlbnQgZGF0YSIsIHRoaXMuZXZlbnQpOwoKICAgICAgdGhpcy5wcmljZSA9IHBhcnNlSW50KHRoaXMucXVhbnRpdHkpICogdGhpcy5ldmVudC5wcmljZVJhbmdlc1swXS5tYXg7CiAgICAgIGNvbnNvbGUubG9nKCJoaWlpaWlpaWlpIik7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["modal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"modal.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"modal-fade\">\n    <div class=\"modal-backdrop\">\n      <div\n        class=\"modal\"\n        role=\"dialog\"\n        aria-labelledby=\"modalTitle\"\n        aria-describedby=\"modalDescription\"\n      >\n        <header class=\"modal-header\" id=\"modalTitle\">\n          <slot name=\"header\">\n            <!-- This is the default tile! -->\n            <button\n              type=\"button\"\n              class=\"btn-close\"\n              @click=\"close\"\n              aria-label=\"Close modal\"\n            >\n              x\n            </button>\n          </slot>\n        </header>\n        <section class=\"modal-body\" id=\"modalDescription\">\n          <slot name=\"body\">\n            <h1>Tickets</h1>\n\n            <div\n              style=\"display: flex; flow-direction: row; justify-content: space-between; margin-bottom: 5rem;\"\n            >\n              <p>Free</p>\n              <select\n                class=\"select__number\"\n                v-model=\"quantity\"\n                @change=\"totalPrice()\"\n              >\n                <option>0</option>\n                <option>1</option>\n                <option>2</option>\n                <option>3</option>\n                <option>4</option>\n                <option>5</option>\n                <option>6</option>\n              </select>\n              <input type=\"email\" v-model=\"email\" />\n            </div>\n\n            <p>\n              Sales end on Oct 22, 2020 A link to the virtual event will be\n              included in your confirmation email and also re-sent on 8/24.\n            </p>\n\n            <!-- <button type=\"button\" class=\"checkout\">Checkout</button> -->\n          </slot>\n        </section>\n        <footer class=\"modal-footer\">\n          <slot name=\"footer\">\n            <!-- I'm the default footer!\n\n            <button\n              type=\"button\"\n              class=\"btn-green\"\n              @click=\"close\"\n              aria-label=\"Close modal\"\n            >\n              Close me!\n            </button> -->\n            <button type=\"button\" class=\"checkout\" @click=\"pay()\">\n              Checkout\n            </button>\n          </slot>\n        </footer>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: \"modal\",\n  props: [\"event\"],\n  data() {\n    return {\n      quantity: 0,\n      // email: \"\",\n      price: \"\",\n      API_publicKey: \"FLWPUBK_TEST-11a8d0aa19dfbe93e9935230997e57ad-X\",\n    };\n  },\n  methods: {\n    close() {\n      this.$emit(\"close\");\n    },\n    pay() {\n      var x = window.getpaidSetup({\n        PBFPubKey: this.API_publicKey,\n        txref: \"rave-123456\",\n        customer_email: this.email,\n        amount: this.price,\n        customer_phone: \"234099940409\",\n        currency: \"NGN\",\n\n        meta: [\n          {\n            metaname: \"flightID\",\n            metavalue: \"AP1234\",\n          },\n        ],\n        onclose: function() {},\n        callback: function(response) {\n          //   var tx_ref = response.data.txRef; // collect txRef returned and pass to a                    server page to complete status check.\n          console.log(\"This is the response returned after a charge\", response);\n          if (\n            response.data.chargeResponseCode == \"00\" ||\n            response.data.chargeResponseCode == \"0\"\n          ) {\n            // redirect to a success page\n            this.$router.push(\"mainContent\");\n          } else {\n            // redirect to a failure page.\n          }\n\n          x.close(); // use this to close the modal immediately after payment.\n        },\n      });\n    },\n    totalPrice() {\n      console.log(\"Event data\", this.event);\n\n      this.price = parseInt(this.quantity) * this.event.priceRanges[0].max;\n      console.log(\"hiiiiiiiii\");\n    },\n  },\n};\n</script>\n\n<style>\n.modal-backdrop {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  /* background-color: rgba(0, 0, 0, 0.3); */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.modal {\n  background: #f2f2f2;\n  box-shadow: 1px 1px 20px 1px;\n  padding: 2rem;\n  overflow-x: auto;\n  display: flex;\n  flex-direction: column;\n}\n\n.modal-header,\n.modal-footer {\n  padding: 15px;\n  display: flex;\n}\n\n.modal-header {\n  /* border-bottom: 1px solid #eeeeee; */\n  color: #4aae9b;\n  justify-content: flex-end;\n}\n\n.modal-footer {\n  border-top: 1px solid #eeeeee;\n  justify-content: flex-end;\n}\n\n.modal-body {\n  position: relative;\n  padding: 20px 10px;\n}\n\n.btn-close {\n  border: none;\n  font-size: 20px;\n  padding: 20px;\n  cursor: pointer;\n  font-weight: bold;\n  color: brown;\n  background: transparent;\n}\n\n.btn-green {\n  color: white;\n  background: #4aae9b;\n  border: 1px solid #4aae9b;\n  border-radius: 2px;\n}\n\n.checkout {\n  background: brown;\n  color: #ffffff;\n  padding: 1rem;\n  border-radius: 5px;\n  border: transparent;\n}\n\n.select__number {\n  width: 10%;\n  display: block;\n  font-size: 16px;\n  color: #444;\n  line-height: 1.3;\n}\n</style>\n"]}]}